技巧
####

避免拷贝
--------

对大量的数据记得使用引用或指针来避免拷贝。

全局变量
--------

函数里直接开超大数组可能会段错误，
可以直接用全局变量开大数组。

.. _prefix_sum:

前缀和
------

前缀和就是将序列的前 :math:`n` 项和存储起来，
之后我们就可以以 :math:`O(1)` 的时间获取任意区间的和。

.. _max_interval_sum:

求最大区间和
------------

用 :math:`S_i` 表示序列的前 :math:`i` 项和。
那么长度为 :math:`r` 的序列的最大后缀和就是
:math:`M_r = S_r - min \lbrace S_i | i \in (0, r) \rbrace`。
对一个长度为 :math:`n` 的序列，我们只要求
:math:`M = max \lbrace M_r | r \in [1, n] \rbrace`
即为它的最大区间和。

滑动窗口
--------

用单调队列解决滑动窗口最值的问题。
通常先将输入完整地存放到数组里，
用单调队列存储元素下标。
也可以不用完整地存储输入，
而将元素及其下标一起存到单调队列里。

例题

* :ref:`lgp1440`
* :ref:`lc239`

.. _log_position:

记录位置
--------

在返回序列中索引或统计序列中出现次数时可以用记录位置，
将项在序列中出现的索引用数组记录下来。

例题

* :ref:`lc2080`
